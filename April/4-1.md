# 공부한 내용 정리   
* 프로세스란 무엇인가?     
  * 프로세스란 하나의 실행 흐름이다.    
    cpu를 점유해 실행하는 하나의 프로그램이다.   
    이 프로세스를 통해 cpu를 이용하고, 모든     
    프로그램과 명령들을 실행하게 된다.    
    시분할 시스템에서의 작업 단위라고도 한다.     
    이 프로세스를 이용해 작업을 진행하면서    
    운영체제는 컴퓨터를 좀 더 효율적으로 사용한다.     
    
  * 여기서 알아야 할 것은    
    프로그램과 프로세스는 다르다는 것이다.    
    프로그램이란 HDD, SSD에 저장되어 있는    
    소스코드에 불과하다. 이 말인 즉슨 정적이라는 것이다.    
    하지만 프로세스는 이러한 정적인 프로그램을     
    실행하는 동적인 존재이다. 파일을 읽어와 자신의 메모리에     
    목적에 맞게 적재하고, 이를 실행시키는 동적인 존재이다.    
    
  * 각 프로세스들은 같은 프로그램을 실행하고 있을지라도,    
    각각의 메모리에 적재된 데이터는 다를 수 있다.     
    즉 각각의 메모리 세션에 저장되는 데이터가 다르고    
    이에 따라 실행되는 흐름도 다를 수 있다.     
    
  * 그럼 각 프로세스는 독립적인 존재인가?     
    그렇다고 볼 수 있을 거 같다.     
    이유는 각각의 프로세스는 고유의 식별자 값을 가지고,    
    자신이 실행 해야 하는 프로그램을 독립적으로   
    실행하기 때문이다. 어쨋든 운영체제가 관리하긴     
    하지만 하나의 실행흐름이라는 관점에서 봤을 땐      
    독립적으로 실행된다고 볼 수 있을 거 같다.     
    
  * 운영체제에 의해 관리되는 것은 무엇인가?     
    프로세스의 생성부터 소멸까지 모든 사이클은    
    운영체제가 관리한다. 즉, 어떤 프로그램을     
    실행할 지, 언제부터 실행할 지, 등에 대한     
    정보를 운영체제는 pcb라는 process control block에    
    저장해두고, 프로세스를 관리한다.    
    
  * 해서 프로세스의 흐름을 제어하고, 다시 호출해 실행시키고,   
    작업이 끝난 프로세스는 소멸 절차를 밟게 하고, 흐름을    
    뺏어 대기 시켰다가 다시 호출해 이어서 실행하는 등      
    모든 프로세스에 대한 정보를 알고 있고 관리하는 것은    
    운영체제이다. 그렇기 때문에 운영체제에 의해 관리된다     
    볼 수 있다.     
    
  * PCB는 무엇인가?      
    PCB란 위에도 있듯이 Process Control Block이라는 뜻으로     
    프로세스에 대한 모든 정보를 담고 있는 구조체라고 볼 수 있다.   
    실제로 c 에서는 구조체로 정의해 사용하며, 프로세스의    
    생성과 동시에 같이 생성된다. 프로세스를 나타내는     
    신분증이라 볼 수 있다. 이 프로세스의 식별자는 무엇인지,      
    프로세스 카운터, 즉 다음에 실행해야 할 코드의 메모리 주소값은    
    뭔지, 현재 프로세스의 상태는 뭔지 등의 정보가 담겨있다.     
    
  * 그래서 운영체제는 이같은 PCB를 이용해 프로세스를    
    관리하고, 사용하게 된다.      
    
  * 또한 프로세스는 자체 메모리를 가지고 있으며,    
    이는 RAM에 적재되어 자신이 실행할 프로그램의     
    정보를 표현하게 된다. 텍스트 - 실행할 코드가 담겨있다.      
    데이터 - 초기화, non 초기화 변수들이 담겨있고, 전역변수들이    
    담긴, 데이터가 저장되는 공간이다. 힙 - 동적으로 생성되는    
    구조체(객체) 들이 저장되는 공간이다. 스택 - 실행되는 메서드가     
    한 줄 한 줄 쌓이는 공간이다.        
    모든 프로세스는 이런 고유의 영역을 가지고 있고,      
    이 영역을 기반으로 프로그램을 실행시키게 된다.     
    
  * 프로세스의 상태란 무엇인가?     
    각 프로세스는 상태를 가진다 이 상태는 5가지가 있다.    
    생성 - 프로세스가 os에 의해 생성된 단계이다.     
    준비완료 - 생성된 프로세스가 os로부터 자신에게 할당될    
    프로그램을 기다리고 있는 상황이다. 큐 안에 있으며,      
    다양한 대기 큐들이 있다. 입출력 큐, 연산큐 등등       
    실행 - os에 작업을 할당받아 cpu를 점유한 채 프로그램을    
    실행하고 있는 단계이다. 
    대기 - 외부로부터 입, 출력 요청이 들어오게 되면서    
    잠시 대기하고 있는 것이다. 이 때 바로 준비로 들어가지    
    않는 이유는 아직까지 자신의 실행 흐름이기 때문이다.    
    입, 출력 요청이 끝나게 되면 다시 준비로 들어가게 된다.      
    입, 출력 역시 하나의 다른 프로세스가 실행되기 때문에     
    해당 프로세스가 그냥 대기로 들어가 버리면 요청을    
    이어받은 입, 출력 프로세스는 좀비 프로세스가 되기 때문이다.    
    아마 부모 - 자식 관계로 이렇게 되지 않았을까?    
    해서 대기하다가 입출력이 끝나면 준비로 들어가는게 아닐까?       
    종료 - 자신이 할당 받은 요청을 전부 처리하게 되면        
    os에 요청하게 되고, 소멸하게 된다.             
    
    실행에서 준비로 들어가는 경우가 있는데 이 때는     
    실행중이던 프로세스로부터 os가 흐름을 빼앗아 다른     
    프로세스에 넘겨줄 때 다시 바로 준비로 들어가게 된다.      
    빼앗는 과정을 인터럽트라 하며, 이 과정에서 컨텍스트     
    스위칭이 발생하게 된다.       
    
  * 컨텍스트 스위칭(Context Switching, 문맥교환)     
    위에서 말했듯 하나의 프로세스 흐름을 빼앗아     
    다른 프로세스를 실행시키는 것을 컨텍스트스위칭이라 한다.    
    일반적으로 컨텐스트 스위칭이 필요한 이유는 프로세스 기준으로    
    멀티 프로세싱이 필요하기 때문이다. 이는 한 번에 하나의 작업만을    
    처리하는 처리기에서 여러 작업을 동시에 처리하기 위해    
    필요한 작업이다. 하지만 어쨋든 한번에 처리할 수 있는     
    작업은 하나이기에 여러 프로세스, 즉 여러 프로그램을     
    왔다 갔다 동시에 진행 하고자 함이다.     
    
  * 해서 컨텍스트 스위칭이 필요한 것이다. 동시에 실행시키기 위해.      
    이 컨텍스트 스위칭의 과정을 보면 p1 프로세스가 실행되고 있다가    
    흐름을 뺏는다. 그럼 os는 p1 프로세스의 현재 작업 진행 상황을    
    pcb 블럭에 저장해 둔다. p1 프로세스의 pcb 블럭에.      
    그리고 이 흐름을 이어 받아 다른 프로그램을 실행할 프로세스의    
    pcb블럭을 불려와 복원해 이전에 작업하던 부분부터 다시 작업할    
    수 있도록 한다. 이렇게 기존 진행하던 작업을 저장, 이전에 진행하던    
    작업을 복원 하는 과정이 들어가게 된다.     
    즉 PCB 블럭을 주고 받는 과정인 것이다.
    
  * 순전히 프로그램의 실행흐름으로 봤을 때 이 작업은    
    오버헤드, 즉 낭비되는 시간이다. 그리고 프로세스간의    
    컨텍스트 스위치 비용은 결코 적지 않기 때문에,      
    (왜냐, 너무나도 빠르게, 빈번하게 이뤄지기 때문이다.)     
    현재는 멀티 스레드로 동시성 작업을 진행하고 있다.      
    
  * 프로세스 스케쥴링은 스케쥴러에 의해 실행된다.     
    한마디로 cpu의 자원을 더 효율적으로 사용하기 위해     
    진행되는 작업이다. 만약 하나의 프로세스가 자신의   
    모든 작업이 완료될 때 까지 계속 cpu를 점유하고 있다면    
    cpu의 자원은 낭비가 될 것이다.     
    
  * 이러한 현상을 방지하기 위해 스케쥴러는 cpu를 점유하고 있는    
    (어찌됬든 한 번에 한 가지 일만 가능하다.) 프로세스들을    
    교체해 가면서, 동시 다발적으로 작업을 처리하기 위해     
    컨텍스트 스위칭을 진행하게 된다.    
    냉정하게 보면 동시에 처리 되는 것이 아니지만   
    다양한 프로세스(프로그램)를 왔다갔다 하면서     
    매우 빠른 속도로 처리하기 때문에 우리가 컴퓨터를 통해   
    다양한 작업을 한번에 할 수 있는 것이다.     
    
  * 스케쥴러는 이런 cpu의 자원을 효율적으로 사용하기 위해    
    스케쥴링이라는 작업을 진행하고, 또 프로세스들을     
    다양한 큐에 분배해 시스템의 균형을 만들어 간다.    
   
    
    
    
